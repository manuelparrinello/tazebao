{% extends "base.html" %} {% block title %} {{ cliente.name }} {% endblock %} {% block content %}
<div id="clientePage" data-cliente-id="{{ cliente.id }}" v-cloak>
    <div class="row mx-auto w-100 display-flex align-items-center justify-content-space-between">
        <div class="col-4 px-0">
            <h6 class="text-primary fw-bold" style="letter-spacing: 1.2px">
                PAGINA CLIENTE
            </h6>
            <h2>{{ cliente.name }}</h2>
            <p>
                Totale lavori:
                <span class="fw-bold">[[ cliente.count_lavori ]]</span>
            </p>
        </div>
        <div class="col-8 d-inline-flex justify-content-end px-0">
            <a href="{{ url_for('cliente_edit', cliente_id = cliente.id)}}">
                <button class="button-61 button-61-warning me-2">
                    <span><i class="bi bi-pencil"></i></span>&nbsp;Modifica
                </button>
            </a>

            <button onclick="clickForDeleteCliente(event, {{ cliente.id }})" class="button-61 button-61-danger">
                <span><i class="bi bi-trash3"></i></span>&nbsp;Elimina cliente
            </button>
        </div>
    </div>

    <div v-if="loading" style="height: 200px !important" class="d-flex container w-100 align-items-center justify-content-center">
        <span class="loader mx-auto d-flex align-items-center justify-content-center"></span>
    </div>

    <div v-else>
        <div class="mb-5 mt-2" id="anagraficaCliente">
            <hr />
            <div class="row w-100">
                <h5 class="fw-bold">Anagrafica</h5>
            </div>
            <div class="row w-100">
                <div class="col-sm .col-lg-3">
                    <strong>Nome</strong>: [[ cliente.ragsoc ]]<br />
                    <strong>Telefono</strong>: [[ cliente.telefono ]]<br />
                </div>
                <div class="col-sm .col-lg-3">
                    <strong>Indirizzo email</strong>: [[ cliente.email ]]<br />
                    <strong>Colore</strong>:
                    <span :style="{ color : cliente.colore }" style="font-weight: bold">[[ cliente.colore ]]</span
                    ><br />
                </div>
                <div class="col-sm .col-lg-3">
                    <strong>Note</strong>: [[ cliente.note ]]
                </div>
            </div>
            <hr />
        </div>

        <div class="mt-2">
            <h4 class="fw-bold mb-3">Lavori associati</h4>
            <div class="card rounded border border-light-subtle">
                <div class="card-body p-4">
                    <tabella-lavori :update_status="updateStatus" :lavori_data="cliente.lavori" :filtro_stati="populateExcludedStatuses"></tabella-lavori>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %} {% block scripts %}
<script src="{{ url_for('static', filename='js/app.js') }}"></script>
<script src="{{ url_for('static', filename='js/components/C_tabella_lavori_cliente.js') }}"></script>
<script src="{{ url_for('static', filename='js/cliente.js') }}"></script>
{% endblock %}