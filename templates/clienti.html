{% extends "base.html" %}

{% block title %}Tutti i clienti{% endblock %}

{% block content %}
<div class="row mx-auto w-100 display-flex align-items-center justify-content-space-between">
    <div class="col-4 px-0">
        <h1>Tutti i clienti</h1>
        <p class="mb-4">Elenco di tutti i clienti presenti nel sistema.</p>
    </div>
    <div class="col-8 d-inline-flex justify-content-end px-0">
        <a href="{{ url_for('nuovo_cliente') }}"><button class="btn btn-primary"><span><i
                        class="bi bi-person-plus-fill"></i></span>&nbsp;Nuovo cliente</button></a>
    </div>
</div>

<div id="clientiPage" class="container p-0">
    <table class="table table-hover  table-striped">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Nominativo</th>
                <th scope="col">Email</th>
                <th scope="col">Telefono</th>
                <th scope="col">Note</th>
            </tr>
        </thead>
        <tbody>
            <template v-if="clienti.length > 0">
                <tr v-if="clienti" v-for="cliente in clienti">
                    <td class="fw-bold">[[ cliente.id ]]</td>
                    <td class="fw-bold"><a :href='`/clienti/${cliente.id}`'>
                            <span class="cliente-bullet" :style="{ backgroundColor: cliente.colore }"></span>[[
                            cliente.nome ]]
                        </a></td>
                    <td>[[ cliente.email ]]</td>
                    <td>[[ cliente.telefono ]]</td>
                    <td>[[ cliente.note ]]</td>
                </tr>
            </template>
            <tr v-else>
                <td colspan="6" class="text-center">Nessun cliente trovato.</td>
            </tr>
        </tbody>
    </table>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/clienti.js') }}"></script>
{% endblock %}