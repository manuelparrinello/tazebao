<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='/css/preventivo.css') }}">
    <style>
        body {
            background-color: #2c2c2c;
            /* Grigio per far risaltare il foglio */
            margin: 0;
            padding: 0;
        }

        .page {
            width: 210mm;
            min-height: 297mm;
            padding: 15mm;
            /* Margini interni al foglio */
            margin: 10mm auto;
            /* Centra il foglio nello schermo */
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
            /* Include il padding nelle dimensioni totali */
        }

        /* Ottimizzazione per la stampa */

        @media print {
            body {
                background: none;
            }

            .page {
                margin: 0;
                box-shadow: none;
            }
        }
    </style>
</head>

<body>
    <div class="page" id="preventivoView" v-cloak>
        <div class="row">

            <!-- INTESTAZIONE AZIENDA -->
            <div class="col-6 ">
                <span class="fw-bold">COSEBELLE - Comunicazione e altre cose<br></span>
                <span>Via Mazzini 141, 91025 Marsala (TP)<br></span>
                <span>indirizzoemail@gmail.com - 0923123456<br></span>
                <span>P.IVA 01234567890 - SDI USAL8PV<br></span>
            </div>

            <!-- LOGO AZIENDA -->
            <div class="col-6 d-inline-flex justify-content-end align-items-center">
                <img class="company-logo" src="{{ url_for('static', filename='/img/LogoCosebelle.png')}}" alt="">
            </div>

        </div>


        <div style="margin-top: 90px;" class="row">
            <!-- INTESTAZIONE CLIENTE -->
            <div class="col-6">
                <span><strong>CLIENTE<br></strong></span>
                <span class="fw-bold">[[ cliente?.ragsoc ]]<br></span>
                <span>[[ cliente?.indirizzo ]], [[ cliente?.cap ]] [[ cliente?.citta ]] ([[ cliente?.provincia
                    ]])<br></span>
                <span>[[ cliente?.email ]] - [[ cliente?.telefono ]] <br></span>
                <span style="text-transform: uppercase;">P.IVA [[ cliente?.p_iva ]] - SDI [[ cliente?.sdi ]]<br></span>
            </div>

            <!-- DATI PREVENTIVO -->
            <div class="col-6">
                <div class="text-end">
                    <span><strong>
                            *** DA SISTEMARE LA NUMERAZIONE PROGRESSIVA ***<br>
                            PREVENTIVO N. {{ preventivo.id }} <br>
                            SCADENZA PREVENTIVO: 1 anno
                        </strong></span>
                </div>
            </div>
        </div>

        <!-- TABELLA PREVENTIVO -->
        <div class="row mt-5">
            <p>
                <strong>PREVENTIVO DI SPESA</strong>
            </p>
            <div v-if="preventivoData && preventivoData.righe?.length" v-cloak>
                <table class="table">
                    <thead>
                        <tr class="tr-thickborder">
                            <th style="width: 40px;" scope="col">QTY</th>
                            <th style="width: auto" scope="col">Descrizione</th>
                            <th class="text-end" style="width: 90px;" scope="col">Imponibile</th>
                            <th class="text-end" style="width: 90px;" scope="col">Ivato</th>
                            <th class="text-end" style="width: 100px;" scope="col">Totale ivato</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="riga in preventivoData.righe">
                            <th scope="row">[[ riga?.qty ]]</th>
                            <td style="white-space: pre-wrap; word-wrap: break-word;">[[ riga?.descrizione ]]
                            </td>
                            <td class="text-end">[[ riga?.prezzo_ie ]]€</td>
                            <td class="text-end">[[ riga?.prezzo_ii ]]€</td>
                            <td class="text-end">[[ riga?.totale_riga ]]€</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div v-else>
                nessun dato
            </div>
        </div>

        <!-- TABELLA SUBTOTALE -->
        <div class="row">
            <div class="col-7"></div>
            <div class="col-5 px-0">
                <table class="table">
                    <tr>
                        <th class="text-start">Subtotale</th>
                        <th class="text-end">[[ subtotale ]]€</th>
                    </tr>
                    <tr>
                        <td class="text-start">Tasse varie</td>
                        <td class="text-end">[[ 8 ]]€</td>
                    </tr>
                    <tr class="tr-thickborder">
                        <th class="text-start">TOTALE</th>
                        <th class="text-end">[[ preventivoData?.totale_preventivo ]]€</th>
                    </tr>

                </table>
            </div>
        </div>

    </div>


    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="{{ url_for('static', filename='js/_preventivo.js') }}"></script>


</body>

</html>